<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Quản lý loại sản phẩm - Cắm Là Cháy</title>
  <meta name="description" content="">
  <meta name="keywords" content="">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>


  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
    rel="stylesheet">

  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/drift-zoom/drift-basic.css" rel="stylesheet">

  <link href="assets/css/main.css" rel="stylesheet">
  <link href="assets/css/admin.css" rel="stylesheet">
  <link href="assets/css/quanlyloaisanpham.css" rel="stylesheet">
  <style>
    /* Nút sửa và xóa */
.nutsua, .nutxoa {
    border: none !important; 
    padding: 4px 8px; 
    border-radius: 4px;
    font-size: 13px; 
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 500;
    border-style: none !important;
    border-width: 0 !important;
}

/* Nút sửa - màu xanh */
.nutsua {
    background-color: #28a745 !important; 
    color: white !important; 
}

.nutsua:hover {
    background-color: #218838 !important; 
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(40, 167, 69, 0.3);
    color: white !important; 
}

/* Nút xóa - màu đỏ */
.nutxoa {
    background-color: #dc3545 !important; 
    color: white !important; 
    margin-left: 4px; 
}

.nutxoa:hover {
    background-color: #c82333 !important; 
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(220, 53, 69, 0.3);
    color: white !important; 
}

/* Hiệu ứng khi focus */
.nutsua:focus, .nutxoa:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.25);
}

/* Khoảng cách giữa các nút */
.action-btn-common {
    margin: 2px;
}

/* ĐÃ THÊM: Style cho thẻ thương hiệu */
.brand-badge {
    display: inline-block;
    padding: 3px 8px;
    margin: 2px 4px 2px 0;
    border-radius: 12px;
    background-color: #e9ecef; /* Màu nền xám nhạt */
    color: #495057;
    font-size: 11px;
    font-weight: 500;
    white-space: nowrap;
}
</style>


</head>

<body class="login-page">
  <script>
    const currentUserJSON = sessionStorage.getItem('isLoggedIn');
    if (currentUserJSON) {
      document.body.classList.remove('page-loading');
    } else {
      Swal.fire({
        icon: 'warning',
        title: 'Yêu cầu đăng nhập',
        text: 'Bạn cần đăng nhập để có thể truy cập tính năng của admin.',
        confirmButtonText: 'Đến trang đăng nhập',
        allowOutsideClick: false,
        customClass: {
          container: 'blurred-login-alert', 
          popup: 'my-swal-popup',
          title: 'my-swal-title',
          htmlContainer: 'my-swal-html-container',
          confirmButton: 'my-swal-confirm-button'
        }
      }).then(() => {
        window.location.href = 'admin_login.html';
      });
    }
  </script>

  <header id="header" class="header sticky-top">


    <div class="main-header">
      <div class="container-fluid container-xl">
        <div class="d-flex py-3 align-items-center justify-content-between">

          <a href="admin.html" class="logo d-flex align-items-center">
            <h1 class="sitename">Cắm Là Cháy</h1>
          </a>
          <div class="header-actions d-flex align-items-center justify-content-end">

            <button class="header-action-btn mobile-search-toggle d-xl-none" type="button" data-bs-toggle="collapse"
              data-bs-target="#mobileSearch" aria-expanded="false" aria-controls="mobileSearch">
              <i class="bi bi-search"></i>
            </button>

            <div class="dropdown account-dropdown">
              <button class="header-action-btn" data-bs-toggle="dropdown">
                <i class="bi bi-person"></i>
              </button>
              <div class="dropdown-menu">
                <div class="dropdown-header">
                  <h6>Tài khoản <span class="sitename">Admin</span></h6>
                  <p class="mb-0">quản lý sản phẩm &amp; khách hàng</p>
                </div>
                <div class="dropdown-body">
                  <a class="dropdown-item d-flex align-items-center" href="admin_account.html">
                    <i class="bi bi-person-circle me-2"></i>
                    <span>Hồ sơ admin</span>
                  </a>
                  <a class="dropdown-item d-flex align-items-center" href="admin_account.html#settings">
                    <i class="bi bi-gear me-2"></i>
                    <span>Cài đặt</span>
                  </a>
                </div>
                <div class="dropdown-footer">
                  <a class="btn btn-outline-primary w-100" id="admin-logout-button">Đăng
                    xuất</a>
                </div>
                <script>
                  document.addEventListener('DOMContentLoaded', function () {
                    const logoutBtn = document.getElementById('admin-logout-button');

                    if (logoutBtn) {
                      logoutBtn.addEventListener('click', function () {
                        Swal.fire({
                          icon: 'question',
                          title: 'Xác nhận đăng xuất?',
                          text: 'Bạn có chắc muốn đăng xuất khỏi hệ thống?',
                          showCancelButton: true,
                          confirmButtonText: 'Đăng xuất',
                          cancelButtonText: 'Hủy',
                          customClass: {
                            popup: 'my-swal-popup',
                            confirmButton: 'my-swal-confirm-button',
                            cancelButton: 'my-swal-cancel-button'
                          }
                        }).then((result) => {
                          if (result.isConfirmed) {
                            sessionStorage.removeItem('isLoggedIn');
                            Swal.fire({
                              icon: 'success',
                              title: 'Đăng xuất thành công!',
                              showConfirmButton: false,
                              timer: 1200,
                              customClass: { popup: 'my-swal-popup' }
                            }).then(() => {
                              window.location.href = 'admin_login.html';
                            });
                          }
                        });
                      });
                    }
                  });
                </script>
              </div>
            </div>

            <i class="mobile-nav-toggle d-xl-none bi bi-list me-0"></i>

          </div>
        </div>

      </div>
    </div>
    </div>
    </div>

    <div class="header-nav">
      <div class="container-fluid container-xl position-relative">
        <nav id="navmenu" class="navmenu">
          <ul>
            <li><a href="admin.html">Trang chủ</a></li>
            <li><a href="admin_quanlykhachhang.html">Quản lý khách hàng</a></li>
            <li><a href="admin_quanlyloaisanpham.html">Quản lý loại sản phẩm</a></li>
            <li><a href="admin_danhmucsanpham.html">Quản lý danh mục sản phẩm</a></li>
            <li><a href="admin_quanlynhapsanpham.html">Quản lý nhập sản phẩm</a></li>
            <li><a href="admin_quanlydonhang.html">Quản lý đơn hàng</a></li>
            <li><a href="admin_quanlytonkho.html">Quản lý tồn kho</a></li>
          </ul>
        </nav>
      </div>
    </div>

    <div class="collapse" id="mobileSearch">
      <div class="container">
        <form class="search-form">
          <div class="input-group">
            <input type="text" class="form-control" placeholder="Tìm kiếm sản phẩm">
            <button class="btn" type="submit">
              <i class="bi bi-search"></i>
            </button>
          </div>
        </form>
      </div>
    </div>

  </header>
  <main class="main">

    <div class="page-title light-background">
      <div class="container d-lg-flex justify-content-between align-items-center">
        <h1 class="mb-2 mb-lg-0">Quản lý loại sản phẩm</h1>
        <nav class="breadcrumbs">
          <ol>
            <li><a href="admin.html">Trang chủ</a></li>
            <li class="current">Quản lý loại sản phẩm</li>
          </ol>
        </nav>
      </div>
    </div>
    <div class="container-manage-import-products">
      <div class="card custom-add-card shadow-sm border-0">
        <div class="card-header bg-white border-0 pb-0">
          <h4 class="fw-semibold text-dark mb-0">Thêm loại sản phẩm mới</h4>
        </div>
        <div class="card-body pt-3">
          <form class="add-form-category-products row g-3">
            <div class="col-md-4">
              <input type="text" class="form-control" id="newCategoryName" placeholder="Tên loại sản phẩm">
            </div>
            <div class="col-md-2">
              <input type="number" class="form-control" placeholder="Lợi nhuận(%)" min="0" max="1000">
            </div>
            <div class="col-md-6">
              <input type="text" class="form-control" id="newCategoryBrands"
                placeholder="Thêm thương hiệu (cách nhau bằng dấu phẩy)">
            </div>
            <div class="col-12">
              <button type="button" class="btn btn-primary d-flex align-items-center gap-2"
                onclick="addNewCategory()">
                <i class="bi bi-plus-circle"></i>
                <span>Thêm loại</span>
              </button>
            </div>
          </form>
        </div>
      </div>

      <div class="card mt-4">
        <div class="card-header">
          <h4>Danh sách loại sản phẩm hiện có</h4>
        </div>
        <div class="card-body">
          <div class="table-responsive">
            <table class="table table-hover data-table">
              <thead>
                <tr>
                  <th scope="col">Tên loại</th>
                  <th scope="col">Giá vốn trung bình</th>
                  <th scope="col">Lợi nhuận mục tiêu</th>
                  <th scope="col">Thương hiệu liên quan</th>
                  <th scope="col" style="width: 15%;">Hành động</th>
                </tr>
              </thead>
              <tbody id="category-list-container">
                <tr>
                  <td>Điện thoại</td>
                  <td><span class="font-weight-bold">20.000.000 VND</span></td>
                  <td><span class="badge text-bg-secondary">25%</span></td>
                  <td data-brands-raw="iPhone, Samsung, Xiaomi, Oppo, Google, Sony, OnePlus"></td> 
                  <td>
                    <button class="nutsua action-btn-common" data-name="Điện thoại" data-profit="25"
                      data-brands="iPhone, Samsung, Xiaomi, Oppo, Google, Sony, OnePlus">Sửa</button>
                    <button class="nutxoa action-btn-common">Xóa</button>
                  </td>
                </tr>
                <tr>
                  <td>Máy tính bảng</td>
                  <td><span class="font-weight-bold">12.000.000 VND</span></td>
                  <td><span class="badge text-bg-secondary">20%</span></td>
                  <td data-brands-raw="iPad, Samsung Galaxy Tab, Xiaomi Pad, Microsoft Surface"></td>
                  <td>
                    <button class="nutsua action-btn-common" data-name="Máy tính bảng" data-profit="20"
                      data-brands="iPad, Samsung Galaxy Tab, Xiaomi Pad, Microsoft Surface">Sửa</button>
                    <button class="nutxoa action-btn-common">Xóa</button>
                  </td>
                </tr>
                <tr>
                  <td>Phụ kiện</td>
                  <td><span class="font-weight-bold">300.000 VND</span></td>
                  <td><span class="badge text-bg-secondary">40%</span></td>
                  <td data-brands-raw="Sạc/Cáp, Tai nghe, Ốp lưng/Bao da, Pin dự phòng"></td>
                  <td>
                    <button class="nutsua action-btn-common" data-name="Phụ kiện" data-profit="40"
                      data-brands="Sạc/Cáp, Tai nghe, Ốp lưng/Bao da, Pin dự phòng">Sửa</button>
                    <button class="nutxoa action-btn-common">Xóa</button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

    </div>

  </main>
  <footer id="footer" class="footer dark-background">
    <div class="footer-main">
      <div class="container">
        <div class="row gy-4">
          <div class="col-lg-4 col-md-6">
            <div class="footer-widget footer-about">
              <a href="index.html" class="logo">
                <span class="sitename">Cắm Là Cháy</span>
              </a>
              <p>Cắm Là Cháy là nhà phân phối điện thoại di động, máy tính
                bảng và phụ kiện chính hãng, uy tín hàng đầu tại Việt Nam.</p>

              <div class="social-links mt-4">
                <h5>Kết nối với chúng tôi</h5>
                <div class="social-icons">
                  <a href="#" aria-label="Facebook"><i class="bi bi-facebook"></i></a>
                  <a href="#" aria-label="Instagram"><i class="bi bi-instagram"></i></a>
                  <a href="#" aria-label="Twitter"><i class="bi bi-twitter-x"></i></a>
                  <a href="#" aria-label="TikTok"><i class="bi bi-tiktok"></i></a>
                  <a href="#" aria-label="Pinterest"><i class="bi bi-pinterest"></i></a>
                  <a href="#" aria-label="YouTube"><i class="bi bi-youtube"></i></a>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-2 col-md-6 col-sm-6">
            <div class="footer-widget">
              <h4>Sản phẩm</h4>
              <ul class="footer-links">
                <li><a href="all.html">Điện thoại mới</a></li>
                <li><a href="all.html">Máy tính bảng</a></li>
                <li><a href="category_detail.html">iPhone</a></li>
                <li><a href="category_detail.html">Samsung</a></li>
                <li><a href="all.html">Phụ kiện</a></li>
              </ul>
            </div>
          </div>

          <div class="col-lg-2 col-md-6 col-sm-6">
            <div class="footer-widget">
              <h4>Hỗ trợ</h4>
              <ul class="footer-links">
                <li><a href="support.html">Trung tâm hỗ trợ</a></li>
                <li><a href="account.html">Trạng thái đặt hàng</a></li>
                <li><a href="shiping-info.html">Thông tin giao hàng</a></li>
                <li><a href="return-policy.html">Yêu cầu trả hàng</a></li>
                </ul>
            </div>
          </div>

          <div class="col-lg-4 col-md-6">
            <div class="footer-widget">
              <h4>Thông tin liên hệ</h4>
              <div class="footer-contact">
                <div class="contact-item">
                  <i class="bi bi-geo-alt"></i>
                  <span> 123 Sao Hỏa</span>
                </div>
                <div class="contact-item">
                  <i class="bi bi-telephone"></i>
                  <span>0123456789</span>
                </div>
                <div class="contact-item">
                  <i class="bi bi-envelope"></i>
                  <span>camlachay@gmail.com</span>
                </div>
                <div class="contact-item">
                  <i class="bi bi-clock"></i>
                  <span>Thứ 2 - Chủ Nhật: 8h-22h<br>Ngày lễ: 8h-21h</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="footer-bottom">
      <div class="container">
        <div class="row gy-3 align-items-center">
          <div class="col-lg-6 col-md-12">
            <div class="copyright">
              <p>© <span>Copyright</span> <strong class="sitename">Cắm Là Cháy</strong>. All Rights Reserved.</p>
            </div>
            <div class="credits mt-1">
              
            </div>
          </div>
          <div class="col-lg-6 col-md-12">
            <div class="d-flex flex-wrap justify-content-lg-end justify-content-center align-items-center gap-4">
              <div class="payment-methods">
                <div class="payment-icons">
                  <i class="bi bi-credit-card" aria-label="Credit Card"></i>
                  <i class="bi bi-paypal" aria-label="PayPal"></i>
                  <i class="bi bi-apple" aria-label="Apple Pay"></i>
                  <i class="bi bi-google" aria-label="Google Pay"></i>
                  <i class="bi bi-shop" aria-label="Shop Pay"></i>
                  <i class="bi bi-cash" aria-label="Cash on Delivery"></i>
                </div>
              </div>
              <div class="legal-links">
                <a href="tos.html">Điều khoản</a>
                <a href="privacy.html">Riêng tư</a>
                <a href="tos.html">Cookies</a>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </footer>
  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i
      class="bi bi-arrow-up-short"></i></a>

  <div id="preloader"></div>

  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/drift-zoom/Drift.min.js"></script>
  <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>

  <script src="assets/js/main.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <script>
    const Toast = Swal.mixin({
      toast: true,
      position: 'top-end',
      showConfirmButton: false,
      timer: 1500,
      timerProgressBar: true,
      didOpen: (toast) => {
        toast.addEventListener('mouseenter', Swal.stopTimer);
        toast.addEventListener('mouseleave', Swal.resumeTimer);
      }
    });

    // Cập nhật brandsData cho cửa hàng điện thoại
    const brandsData = {
      'Điện thoại': ['iPhone', 'Samsung', 'Xiaomi', 'Oppo', 'Google', 'Sony', 'OnePlus'],
      'Máy tính bảng': ['iPad', 'Samsung Galaxy Tab', 'Xiaomi Pad', 'Microsoft Surface'],
      'Phụ kiện': ['Sạc/Cáp', 'Tai nghe', 'Ốp lưng/Bao da', 'Pin dự phòng'],
    };

    // ĐÃ THÊM: Function để chuyển chuỗi thương hiệu thành các thẻ (badges)
    function renderBrandsAsBadges(brandsString) {
        if (!brandsString) return '';
        const brands = brandsString.split(',').map(brand => brand.trim()).filter(brand => brand.length > 0);
        return brands.map(brand => `<span class="brand-badge">${brand}</span>`).join('');
    }

    // ĐÃ THÊM: Function để áp dụng định dạng thẻ khi tải trang
    function applyBrandBadges() {
        document.querySelectorAll('#category-list-container tr').forEach(row => {
            const brandsCell = row.cells[3]; // Cột thứ 4 là Thương hiệu liên quan
            const brandsString = brandsCell.getAttribute('data-brands-raw') || '';
            brandsCell.innerHTML = renderBrandsAsBadges(brandsString);
        });
    }

    document.addEventListener('DOMContentLoaded', function () {
      applyBrandBadges(); // GỌI HÀM KHI TẢI TRANG


      // === SỬA LOẠI SẢN PHẨM ===
      document.querySelectorAll('.nutsua').forEach(button => {
        button.addEventListener('click', function () {
          const categoryName = this.getAttribute('data-name');
          const profitMargin = this.getAttribute('data-profit');
          const currentBrands = this.getAttribute('data-brands');

          const formHTML = `
            <form id="edit-category-form" class="row g-3" style="text-align: left;">
                <div class="col-md-6 mb-3">
                    <label class="form-label fw-bold">Tên loại sản phẩm</label>
                    <input id="editCategoryName" type="text" class="form-control" value="${categoryName}">
                </div>
                <div class="col-md-6 mb-3">
                    <label class="form-label fw-bold">Lợi nhuận mục tiêu (%)</label>
                    <input id="editProfitMargin" type="number" class="form-control" value="${profitMargin}" min="0" max="1000">
                </div>
                <div class="col-12 mb-3">
                    <label class="form-label fw-bold">Thương hiệu liên quan (cách nhau bằng dấu phẩy)</label>
                    <textarea id="editCategoryBrands" class="form-control" rows="3">${currentBrands}</textarea>
                </div>
            </form>
          `;

          Swal.fire({
            title: `Sửa loại: ${categoryName}`,
            html: formHTML,
            showCancelButton: true,
            confirmButtonText: 'Lưu thay đổi',
            cancelButtonText: 'Hủy',
            customClass: {
              popup: 'my-swal-popup',
              confirmButton: 'my-swal-confirm-button',
              cancelButton: 'my-swal-cancel-button'
            },
            preConfirm: () => {
              const name = document.getElementById('editCategoryName').value.trim();
              if (!name) {
                Swal.showValidationMessage('Tên loại sản phẩm không được để trống.');
                return false;
              }
              // === GỌI API SỬA Ở ĐÂY ===
              return { name: name, profit: document.getElementById('editProfitMargin').value, brands: document.getElementById('editCategoryBrands').value };
            }
          }).then((result) => {
            if (result.isConfirmed) {
              Toast.fire({
                icon: 'success',
                html: `Đã lưu thay đổi cho <strong>${result.value.name}</strong>`
              });
              // Cập nhật giao diện sau khi sửa
              const row = button.closest('tr');
              row.cells[0].textContent = result.value.name; // Cập nhật tên
              row.cells[2].querySelector('.badge').textContent = result.value.profit + '%'; // Cập nhật lợi nhuận
              
              const brandsCell = row.cells[3];
              brandsCell.setAttribute('data-brands-raw', result.value.brands);
              brandsCell.innerHTML = renderBrandsAsBadges(result.value.brands); // Cập nhật thương hiệu

              button.setAttribute('data-name', result.value.name);
              button.setAttribute('data-profit', result.value.profit);
              button.setAttribute('data-brands', result.value.brands);
            }
          });
        });
      });


      // === XÓA LOẠI SẢN PHẨM ===
      document.querySelectorAll('.nutxoa').forEach(button => {
        button.addEventListener('click', function () {
          const row = this.closest('tr');
          const categoryName = row.querySelector('td:first-child').textContent;

          Swal.fire({
            title: 'Xác nhận xóa?',
            html: `Loại: <strong>${categoryName}</strong> sẽ bị xóa vĩnh viễn.`,
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#d33',
            cancelButtonColor: '#3085d6',
            confirmButtonText: 'Xóa',
            cancelButtonText: 'Hủy'
          }).then((result) => {
            if (result.isConfirmed) {
              // === GỌI API XÓA Ở ĐÂY ===
               row.remove();

              Toast.fire({
                icon: 'success',
                html: `Đã xóa: <strong>${categoryName}</strong>`
              });
            } else if (result.dismiss === Swal.DismissReason.cancel) {
              Toast.fire({
                icon: 'info',
                html: 'Đã hủy xóa'
              });
            }
          });
        });
      });
    });

    // === THÊM DANH MỤC MỚI ===
    function addNewCategory() {
      const newCategoryNameInput = document.getElementById('newCategoryName');
      const name = newCategoryNameInput.value.trim() || '';

      const profitInput = document.querySelector('.add-form-category-products input[placeholder="Lợi nhuận(%)"]');
      const brandsInput = document.getElementById('newCategoryBrands');

      if (!name) {
        Toast.fire({ icon: 'error', html: 'Tên loại sản phẩm không được để trống.' });
        return;
      }

      // === GỌI API THÊM Ở ĐÂY ===
      const newBrandsString = brandsInput ? brandsInput.value : '';
      const newProfitValue = profitInput ? profitInput.value : 0;

      // HIỆN TOAST
      Toast.fire({
        icon: 'success',
        html: `Đã thêm thành công <strong>${name}</strong>!`
      });

      // Tự động thêm hàng mới vào bảng 
      const tableBody = document.getElementById('category-list-container');
      const newRow = document.createElement('tr');
      newRow.innerHTML = `
                <td>${name}</td>
                <td><span class="font-weight-bold">0 VND</span></td>
                <td><span class="badge text-bg-secondary">${newProfitValue + '%'}</span></td>
                <td data-brands-raw="${newBrandsString}">${renderBrandsAsBadges(newBrandsString)}</td>
                <td>
                    <button class="nutsua action-btn-common" data-name="${name}" data-profit="${newProfitValue}" data-brands="${newBrandsString}">Sửa</button>
                    <button class="nutxoa action-btn-common">Xóa</button>
                </td>
            `;
      tableBody.appendChild(newRow);
      
      // XÓA FORM
      newCategoryNameInput.value = '';
      if (profitInput) profitInput.value = '';
      if (brandsInput) brandsInput.value = '';
    }
  </script>

</body>

</html>